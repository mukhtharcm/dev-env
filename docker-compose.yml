services:
  clawdbot-dev:
    build: .
    image: clawdbot-dev:latest
    container_name: clawdbot-dev
    hostname: clawdbot-dev
    stdin_open: true
    tty: true
    init: true
    restart: unless-stopped
    
    # Resource limits
    deploy:
      resources:
        limits:
          memory: 4G
          cpus: "2"
    
    # Keep container running
    command: tail -f /dev/null
    
    volumes:
      # Projects
      - clawdbot-dev-projects:/root/dev
      
      # Config (gh, nvim, etc.)
      - clawdbot-dev-config:/root/.config
      
      # Local data (nvim plugins, etc.)
      - clawdbot-dev-local:/root/.local
      
      # Cache (pnpm, nvim cache)
      - clawdbot-dev-cache:/root/.cache
      
      # Go workspace
      - clawdbot-dev-go:/root/go
      
      # Oh My Zsh
      - clawdbot-dev-ohmyzsh:/root/.oh-my-zsh

volumes:
  clawdbot-dev-projects:
  clawdbot-dev-config:
  clawdbot-dev-local:
  clawdbot-dev-cache:
  clawdbot-dev-go:
  clawdbot-dev-ohmyzsh:
